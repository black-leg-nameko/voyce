# Environment
APP_ENV=prod

# Whisper model size: tiny, base, small, medium, large-v3
WHISPER_MODEL_SIZE=small

# CPU mode for low-cost infra (default)
WHISPER_DEVICE=cpu
WHISPER_COMPUTE_TYPE=int8

# API
API_WORKERS=2
API_PORT=8000

# Security
# Comma-separated API keys. Rotate periodically.
API_KEYS=dev-local-key
ALLOW_API_KEY_AUTH=false
AUTH_TOKEN_SECRET=replace-with-auth-token-secret
MIN_AUTH_SECRET_LENGTH=32
AUTH_TOKEN_TTL_SECONDS=28800
OPERATOR_PIN_HASH=pbkdf2_sha256$310000$replace-with-salt$replace-with-64hexhash
REDIS_URL=redis://redis:6379/0
TRUSTED_PROXY_IPS=127.0.0.1,::1
AUTH_RATE_LIMIT_PER_MINUTE=10

# Comma-separated allowed origins for browser clients.
CORS_ALLOWED_ORIGINS=http://localhost:8081,http://127.0.0.1:8081,http://localhost:19006

# Per-IP requests per 60 seconds on /guide.
RATE_LIMIT_PER_MINUTE=30

# Transport security
# true in production. If true, non-HTTPS requests are rejected except /health.
ENFORCE_HTTPS=true

# Privacy controls
# true in production. Rejects /guide requests without explicit user consent.
REQUIRE_CONSENT=true

# Translation model behavior
# Comma-separated translation pairs to preload (from-to).
ARGOS_LANGUAGE_PAIRS=ja-en,en-ja,ja-zh,zh-ja,ja-ko,ko-ja,ja-fr,fr-ja,ja-es,es-ja

# Keep false in production to avoid runtime network dependency and latency spikes.
ARGOS_ALLOW_RUNTIME_INSTALL=false

# Upload validation
MAX_AUDIO_BYTES=8388608
ALLOWED_AUDIO_EXTENSIONS=.m4a,.mp3,.wav,.webm,.ogg
ALLOWED_AUDIO_MIME_TYPES=audio/m4a,audio/mp4,audio/mpeg,audio/wav,audio/x-wav,audio/webm,audio/ogg,application/octet-stream
MAX_TEXT_CHARS=500

# ASR performance tuning
MAX_CONCURRENT_TRANSCRIBE=2
QUEUE_WAIT_TIMEOUT_SECONDS=2.0
TRANSCRIBE_TIMEOUT_SECONDS=45.0
WHISPER_BEAM_SIZE=1
WHISPER_BEST_OF=1
WHISPER_TEMPERATURE=0.0

# Observability
LOG_LEVEL=INFO
ENABLE_METRICS=true
METRICS_TOKEN=replace-with-metrics-token
READY_TOKEN=replace-with-ready-token

# FAQ response quality
MIN_FAQ_CONFIDENCE=68
FAQ_AMBIGUITY_MARGIN=8
FAQ_HIGH_CONFIDENCE=85
SUPPORTED_TARGET_LANGUAGES=ja,en,zh,ko,fr,es
TRANSLATION_MIN_RATIO=0.25
TRANSLATION_MAX_RATIO=4.0
TRANSLATION_MIN_CHARS=2
